(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-485f628e"],{"4dad":function(e,t,n){},5514:function(e,t,n){},"5e25":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-overlay",{attrs:{value:e.showOverlay}},["Create assignment"===e.overlayAction?[n("CreateAssignment",{attrs:{exit:e.hideOverlay,refresh:e.refreshAssignments,path:e.selectedNode.path,course:e.course}})]:e._e(),"Edit assignment"===e.overlayAction?[n("EditAssignment",{attrs:{exit:e.hideOverlay,refresh:e.refreshAssignments,assignment:e.selectedNode,course:e.course}})]:e._e(),"Delete assignment"===e.overlayAction?[n("DeleteAssignment",{attrs:{exit:e.hideOverlay,refresh:e.refreshAssignments,assignment:e.selectedNode,course:e.course}})]:e._e(),"Create file"===e.overlayAction?[n("CreateFile",{attrs:{exit:e.hideOverlay,refresh:e.refreshAssignments,assignment:e.selectedNode,course:e.course}})]:e._e(),"Delete file"===e.overlayAction?[n("DeleteFile",{attrs:{exit:e.hideOverlay,refresh:e.refreshAssignments,file:e.selectedNode,course:e.course}})]:e._e()],2),n("h1",[e._v("Assignments "),n("v-icon",{on:{click:function(t){return e.onClick("Create assignment",{path:"/"})}}},[e._v("mdi-plus")])],1),n("div",[n("vue-context",{ref:"menu",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data;return[null!==r&&void 0!==r?[n("li",[e.assignmentEligible(r)?n("a",{on:{click:function(t){return t.preventDefault(),e.onClick("Create assignment",r)}}},[e._v(" Create assignment ")]):e._e(),e.fileEligible(r)?n("a",{on:{click:function(t){return t.preventDefault(),e.onClick("Create file",r)}}},[e._v(" Create file ")]):e._e()]),n("li",[r.isDirectory?n("a",{on:{click:function(t){return t.preventDefault(),e.onClick("Edit assignment",r)}}},[e._v(" Edit assignment ")]):e._e()]),n("li",[r.isDirectory?n("a",{on:{click:function(t){return t.preventDefault(),e.onClick("Delete assignment",r)}}},[e._v(" Delete assignment ")]):n("a",{on:{click:function(t){return t.preventDefault(),e.onClick("Delete file",r)}}},[e._v(" Delete file ")])])]:e._e()]}}])})],1),n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{md:"3"}},[n("v-treeview",{attrs:{activatable:"",dense:"",hoverable:"",items:e.assignments,"return-object":"",active:e.active},on:{"update:active":[function(t){e.active=t},function(t){return e.activeChanged(e.active)}]},scopedSlots:e._u([{key:"prepend",fn:function(t){var r=t.item,a=t.open;return[r.isDirectory?n("v-icon",{on:{contextmenu:function(t){return t.preventDefault(),e.$refs.menu.open(t,r)}}},[e._v(" "+e._s(a?"mdi-folder-open":"mdi-folder")+" ")]):n("v-icon",{on:{contextmenu:function(t){return t.preventDefault(),e.$refs.menu.open(t,r)}}},[e._v(" "+e._s(e.fileTypes[e.extensionRegex.exec(r.name)[1]])+" ")])]}},{key:"label",fn:function(t){var r=t.item;return[n("v-list-item-title",{on:{contextmenu:function(t){return t.preventDefault(),e.$refs.menu.open(t,r)}}},[e._v(" "+e._s(r.name)+" ")])]}}])})],1),n("v-col",{attrs:{cols:"9"}},[n("v-card",{staticClass:"sticky",attrs:{tile:"",elevation:"2"}},[n("FileEditor",{ref:"fileEditor",staticClass:"editorWrapper",attrs:{course:e.course}})],1)],1)],1)],1)],1)},a=[],s=(n("4160"),n("b0c0"),n("ac1f"),n("159b"),n("96cf"),n("1da1")),i=n("5530"),o=(n("2791"),n("f513"),n("fe5f"),n("4ba6"),n("f9d4"),n("b866"),n("7ba3"),n("5514"),n("10b2"),n("2f62")),c=n("899b"),l=(n("f89b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%"}},["none"===e.editable.type?n("v-card",{staticClass:"inner-tile",attrs:{tile:""}},[n("v-card-title",[e._v("Select a file")])],1):"html"===e.editable.type?n("v-card",{staticClass:"inner-tile",attrs:{tile:""}},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.file.name))]),n("v-spacer"),n("v-checkbox",{attrs:{label:"Binary"},model:{value:e.binary,callback:function(t){e.binary=t},expression:"binary"}}),n("v-spacer"),n("v-checkbox",{attrs:{label:"Show"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),n("v-spacer"),n("v-btn",{on:{click:function(t){return e.save()}}},[e._v("Save")])],1),n("div",[n("editor",{ref:"toaster",attrs:{options:e.editorOptions,height:"75vh"}})],1)],1):e.rawEditorFileExtensions.includes(e.editable.type)?n("v-card",{attrs:{tile:""}},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.file.name))]),n("v-spacer"),n("v-checkbox",{attrs:{label:"Binary"},model:{value:e.binary,callback:function(t){e.binary=t},expression:"binary"}}),n("v-spacer"),n("v-checkbox",{attrs:{label:"Show"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),n("v-spacer"),n("v-btn",{attrs:{disabled:e.isSaving},on:{click:function(t){return e.save()}}},[e._v("Save")])],1),n("div",[n("codemirror",{ref:"mirror",attrs:{options:e.cmOptions,id:"codemirror"},model:{value:e.fileContent,callback:function(t){e.fileContent=t},expression:"fileContent"}})],1)],1):e._e()],1)}),u=[],d=(n("99af"),n("caad"),n("8f94")),m=n("4ede"),p=(n("d3b7"),{getAssignments:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.id,a=e.external,s=e.year,i=e.name,n.next=3,fetch("/services/assignments.php?action=getAssignments&course_id=".concat(r).concat(a?"&X":"","&year=").concat(s),{method:"get",headers:{Accept:"application/json"}});case 3:return o=n.sent,n.next=6,o.json();case 6:return c=n.sent,c.success||t({type:"bad",group:"main",title:"Getting assignments for ".concat(i),text:"".concat(c.message||"An error has occurred.")}),n.abrupt("return",c.data);case 9:case"end":return n.stop()}}),n)})))()},convertAssignments:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.id,a=e.external,s=e.year,i=e.name,n.next=3,fetch("/services/assignments.php?action=updateAssignments&course_id=".concat(r).concat(a?"&X":"","&year=").concat(s),{method:"get",headers:{Accept:"application/json"}});case 3:return o=n.sent,n.next=6,o.json();case 6:return c=n.sent,c.success||t({type:"bad",group:"main",title:"Converting assignments for ".concat(i),text:"".concat(c.message||"An error has occurred.")}),n.abrupt("return",c);case 9:case"end":return n.stop()}}),n)})))()},createAssignment:function(e,t,n){return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,s,i,o,c,l,u,d,m,p,f,h,v;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.id,s=e.external,i=e.year,o=e.name,c=t.path,l=t.name,u=t.displayName,d=t.type,m=t.hidden,p=t.homeworkId,f="/services/assignments.php?action=createAssignment&course_id=".concat(a).concat(s?"&X":"","&year=").concat(i),r.next=5,fetch(f,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({path:c,name:l,displayName:u,type:d,hidden:m,homeworkId:p})});case 5:return h=r.sent,r.next=8,h.json();case 8:return v=r.sent,!v.success&&n&&n({type:"bad",group:"main",title:"Creating assignment for ".concat(o),text:"".concat(v.message||"An error has occurred.")}),r.abrupt("return",v);case 11:case"end":return r.stop()}}),r)})))()},editAssignment:function(e,t,n){return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,s,i,o,c,l,u,d,m,p,f,h;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.id,s=e.external,i=e.year,o=e.name,c=t.path,l=t.displayName,u=t.type,d=t.hidden,m=t.homeworkId,p="/services/assignments.php?action=editAssignment&course_id=".concat(a).concat(s?"&X":"","&year=").concat(i),r.next=5,fetch(p,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({path:c,displayName:l,type:u,hidden:d,homeworkId:m})});case 5:return f=r.sent,r.next=8,f.json();case 8:return h=r.sent,!h.success&&n&&n({type:"bad",group:"main",title:"Editing assignment for ".concat(o),text:"".concat(h.message||"An error has occurred.")}),r.abrupt("return",h);case 11:case"end":return r.stop()}}),r)})))()},deleteAssignment:function(e,t,n){return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,s,i,o,c,l,u,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.id,s=e.external,i=e.year,o=e.name,c=t.path,l="/services/assignments.php?action=deleteAssignment&course_id=".concat(a).concat(s?"&X":"","&year=").concat(i),r.next=5,fetch(l,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({path:c})});case 5:return u=r.sent,r.next=8,u.json();case 8:return d=r.sent,!d.success&&n&&n({type:"bad",group:"main",title:"Deleting assignment for ".concat(o),text:"".concat(d.message||"An error has occurred.")}),r.abrupt("return",d);case 11:case"end":return r.stop()}}),r)})))()},getFileContent:function(e,t,n){return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,s,i,o,c,l,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.id,s=e.external,i=e.year,o=t.path,c="/services/assignments.php?action=getFileContent&course_id=".concat(a).concat(s?"&X":"","&year=").concat(i),r.next=5,fetch(c,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({path:o})});case 5:return l=r.sent,r.next=8,l.json();case 8:return u=r.sent,!u.success&&n&&n({type:"bad",group:"main",title:"Getting content of ".concat(o),text:"".concat(u.message||"An error has occurred.")}),r.abrupt("return",u);case 11:case"end":return r.stop()}}),r)})))()},createFile:function(e,t,n){return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,s,i,o,c,l,u,d,m,p,f;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.id,s=e.external,i=e.year,o=t.folderPath,c=t.name,l=t.show,u=t.binary,d=t.content,m="/services/assignments.php?action=getFileContent&course_id=".concat(a).concat(s?"&X":"","&year=").concat(i),r.next=5,fetch(m,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({folderPath:o,name:c,show:l,binary:u,content:d})});case 5:return p=r.sent,r.next=8,p.json();case 8:return f=r.sent,!f.success&&n&&n({type:"bad",group:"main",title:"Creating file ".concat(o+"/"+c),text:"".concat(f.message||"An error has occurred.")}),r.abrupt("return",f);case 11:case"end":return r.stop()}}),r)})))()},editFile:function(e,t,n){return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,s,i,o,c,l,u,d,m,p;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.id,s=e.external,i=e.year,o=t.path,c=t.content,l=t.show,u=t.binary,d="/services/assignments.php?action=editFile&course_id=".concat(a).concat(s?"&X":"","&year=").concat(i),console.log(c),r.next=6,fetch(d,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({path:o,content:c,show:l,binary:u})});case 6:return m=r.sent,r.next=9,m.json();case 9:return p=r.sent,!p.success&&n&&n({type:"bad",group:"main",title:"Editing content of ".concat(o),text:"".concat(p.message||"An error has occurred.")}),r.abrupt("return",p);case 12:case"end":return r.stop()}}),r)})))()},deleteFile:function(e,t,n){return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,s,i,o,c,l,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.id,s=e.external,i=e.year,o=t.path,c="/services/assignments.php?action=deleteFile&course_id=".concat(a).concat(s?"&X":"","&year=").concat(i),r.next=5,fetch(c,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({path:o})});case 5:return l=r.sent,r.next=8,l.json();case 8:return u=r.sent,!u.success&&n&&n({type:"bad",group:"main",title:"Deleting file ".concat(o),text:"".concat(u.message||"An error has occurred.")}),r.abrupt("return",u);case 11:case"end":return r.stop()}}),r)})))()}});console.log("PRODUCTION");var f=p,h={name:"FileEditor",props:{course:Object},components:{codemirror:d["codemirror"],Editor:m["Editor"]},data:function(){return{binary:!1,show:!0,fileContent:"",file:void 0,extensionRegex:/(?:\.([^.]+))?$/,editorOptions:{hideModeSwitch:!1},modes:{c:"text/x-csrc",cpp:"text/x-c++src",java:"text/x-java",json:"application/json",javascript:"text/javascript",typescript:"text/typescript"},cmOptions:{tabSize:4,mode:"text/x-csrc",theme:"idea",lineNumbers:!0,line:!0,autoCloseBrackets:!0,viewportMargin:1/0},rawEditorFileExtensions:["c","cpp","java","js","mat","php","autotest","zadaca","json","txt","autotest2"],isSaving:!1}},computed:{editable:function(){return this.file&&!this.file.isDirectory?{type:this.extensionRegex.exec(this.file.name)[1]}:{type:"none"}}},methods:{save:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isSaving=!0,n="",e.$refs.toaster?n=e.$refs.toaster.invoke("getHtml"):e.$refs.mirror&&(n=e.fileContent),t.next=5,f.editFile(e.course,{path:e.file.path,content:n,show:e.show,binary:e.binary});case 5:if(r=t.sent,e.isSaving=!1,r.success){t.next=10;break}return e.$notify({type:"bad",group:"main",title:"Save file",text:"".concat(r.message||"An error has occurred.")}),t.abrupt("return",!1);case 10:e.$notify({type:"good",group:"main",title:"Save file",text:"File /".concat(e.file.parent.parent.name,"/").concat(e.file.parent.name,"/").concat(e.file.name," saved.")});case 11:case"end":return t.stop()}}),t)})))()},refresh:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.file=e,t.$refs.toaster&&(t.$refs.toaster.invoke("height","75vh"),t.$refs.toaster.invoke("setHtml","")),t.fileContent="",console.log(e),!t.file||!t.file.parent){n.next=13;break}return n.next=7,f.getFileContent(t.course,{path:t.file.path});case 7:if(r=n.sent,r.success){n.next=10;break}return n.abrupt("return",!1);case 10:t.$refs.toaster?t.$refs.toaster.invoke("setHtml",r.data.content):t.$refs.mirror&&(t.fileContent=r.data.content),t.binary=t.file.binary,t.show=t.file.show;case 13:["autotest","zadaca","json","autotest2"].includes(t.extensionRegex.exec(e.name)[1])?t.cmOptions.mode=t.modes.json:["c"].includes(t.extensionRegex.exec(e.name)[1])?t.cmOptions.mode=t.modes.c:["cpp"].includes(t.extensionRegex.exec(e.name)[1])?t.cmOptions.mode=t.modes.cpp:["java"].includes(t.extensionRegex.exec(e.name)[1])?t.cmOptions.mode=t.modes.java:["js"].includes(t.extensionRegex.exec(e.name)[1])?t.cmOptions.mode=t.modes.javascript:["ts"].includes(t.extensionRegex.exec(e.name)[1])&&(t.cmOptions.mode=t.modes.typescript);case 14:case"end":return n.stop()}}),n)})))()}}},v=h,g=n("2877"),b=n("6544"),x=n.n(b),y=n("8336"),k=n("b0af"),w=n("99d9"),C=n("ac7c"),_=n("2fa4"),j=Object(g["a"])(v,l,u,!1,null,"3beb48fe",null),O=j.exports;x()(j,{VBtn:y["a"],VCard:k["a"],VCardTitle:w["d"],VCheckbox:C["a"],VSpacer:_["a"]});var A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"pa-5 px-8",attrs:{dark:""}},[n("h3",{staticClass:"text-center mb-3"},[e._v("Create assignment")]),n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:"Name",required:"",rules:[e.notEmpty]},model:{value:e.displayName,callback:function(t){e.displayName=t},expression:"displayName"}}),n("v-text-field",{attrs:{label:"Filesystem name",required:"",rules:[e.notEmpty,e.noSpaces]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-checkbox",{attrs:{label:"Hidden"},model:{value:e.hidden,callback:function(t){e.hidden=t},expression:"hidden"}}),void 0!==e.selectedType&&"homework"===e.selectedType?n("v-text-field",{attrs:{label:"Homework ID"},model:{value:e.homeworkId,callback:function(t){e.homeworkId=t},expression:"homeworkId"}}):e._e(),n("div",{staticClass:"d-flex justify-space-between mt-5"},[n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.exit}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.create}},[e._v("Create")])],1)],1)],1)},R=[],E=(n("c975"),n("53ca")),F={name:"CreateAssignment",props:{path:Object(E["a"])(""),course:Object,refresh:Function,exit:Function},data:function(){return{homeworkId:void 0,hidden:!1,selectedType:"tutorial",types:["tutorial","homework","independent","exam","folder"],isProcessing:!1,name:"",displayName:"",valid:!1,notEmpty:function(e){return(e||"").length>0||"This field cannot be empty"},noSpaces:function(e){return(e||"").indexOf(" ")<0||"No spaces are allowed"},positive:function(e){return(e||-1)>0||"Number must not be negative"}}},methods:{create:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.selectedType),console.log(e.name),console.log(e.displayName),console.log(e.homeworkId),console.log(e.hidden),!e.valid){t.next=20;break}return e.isProcessing=!0,console.log(e.path),console.log(e.course),t.next=11,f.createAssignment(e.course,{path:e.path,name:e.name,displayName:e.displayName,type:e.selectedType,hidden:e.hidden,homeworkId:e.homeworkId});case 11:if(n=t.sent,e.isProcessing=!1,n.success){t.next=17;break}return console.log(n),e.$notify({type:"bad",group:"main",title:"Create assignment",text:"".concat(n.message||"An error has occurred.")}),t.abrupt("return",!1);case 17:e.refresh(),e.exit(),e.$notify({type:"good",group:"main",title:"Create assignment",text:"Assignment ".concat(e.displayName," created.")});case 20:case"end":return t.stop()}}),t)})))()}}},N=F,D=n("4bd4"),V=n("8654"),$=Object(g["a"])(N,A,R,!1,null,"9b9f3320",null),I=$.exports;x()($,{VBtn:y["a"],VCard:k["a"],VCheckbox:C["a"],VForm:D["a"],VTextField:V["a"]});var T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"pa-5 px-8",attrs:{dark:""}},[n("h3",{staticClass:"text-center mb-3"},[e._v("Edit assignment")]),n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:"Name",required:"",rules:[e.notEmpty]},model:{value:e.displayName,callback:function(t){e.displayName=t},expression:"displayName"}}),n("v-checkbox",{attrs:{label:"Hidden"},model:{value:e.hidden,callback:function(t){e.hidden=t},expression:"hidden"}}),void 0!==e.selectedType&&"homework"===e.selectedType?n("v-text-field",{attrs:{label:"Homework ID"},model:{value:e.homeworkId,callback:function(t){e.homeworkId=t},expression:"homeworkId"}}):e._e(),n("div",{staticClass:"d-flex justify-space-between mt-5"},[n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.exit}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.update}},[e._v("Update")])],1)],1)],1)},S=[],P={name:"EditAssignment",props:{assignment:Object,course:Object,refresh:Function,exit:Function},data:function(){return{homeworkId:void 0,hidden:!1,selectedType:"tutorial",types:["tutorial","homework","independent","exam","folder"],isProcessing:!1,displayName:"",valid:!1,notEmpty:function(e){return(e||"").length>0||"This field cannot be empty"},noSpaces:function(e){return(e||"").indexOf(" ")<0||"No spaces are allowed"},positive:function(e){return(e||-1)>0||"Number must not be negative"}}},mounted:function(){this.displayName=this.assignment.name,this.selectedType=this.assignment.type,this.hidden=this.assignment.hidden,this.homeworkId=this.assignment.homeworkId},methods:{update:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.selectedType),console.log(e.name),console.log(e.displayName),console.log(e.homeworkId),console.log(e.hidden),!e.valid){t.next=20;break}return e.isProcessing=!0,console.log(e.path),console.log(e.course),t.next=11,f.editAssignment(e.course,{path:e.path,displayName:e.displayName,type:e.selectedType,hidden:e.hidden,homeworkId:e.homeworkId});case 11:if(n=t.sent,e.isProcessing=!1,console.log(n),n.success){t.next=17;break}return e.$notify({type:"bad",group:"main",title:"Edit assignment",text:"".concat(n.message||"An error has occurred.")}),t.abrupt("return",!1);case 17:e.refresh(),e.exit(),e.$notify({type:"good",group:"main",title:"Edit assignment",text:"Assignment ".concat(e.displayName," updated.")});case 20:case"end":return t.stop()}}),t)})))()}}},B=P,J=Object(g["a"])(B,T,S,!1,null,"1f8c67e2",null),X=J.exports;x()(J,{VBtn:y["a"],VCard:k["a"],VCheckbox:C["a"],VForm:D["a"],VTextField:V["a"]});var H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("Delete assignment")]),n("v-card-subtitle",[e._v(e._s(e.assignment.name)+" ("+e._s(e.assignment.path)+")")]),n("v-card-text",[e._v("Are you sure you want to delete this task?")]),n("v-card-actions",[n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.exit}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.submit}},[e._v("Delete")])],1)],1)},z=[],M={name:"DeleteAssignment",props:{course:Object,assignment:Object,refresh:Function,exit:Function},data:function(){return{isProcessing:!1}},methods:{submit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isProcessing=!0,t.next=3,f.deleteAssignment(e.course,e.assignment);case 3:if(n=t.sent,e.isProcessing=!1,n.success){t.next=8;break}return e.$notify({type:"bad",group:"main",title:"Delete assignment",text:"".concat(n.message||"An error has occurred.")}),t.abrupt("return",!1);case 8:e.refresh(),e.exit(),e.$notify({type:"good",group:"main",title:"Delete assignment",text:"Assignment ".concat(e.assignment.name," deleted.")});case 11:case"end":return t.stop()}}),t)})))()}}},q=M,L=Object(g["a"])(q,H,z,!1,null,"5aa2ae43",null),G=L.exports;x()(L,{VBtn:y["a"],VCard:k["a"],VCardActions:w["a"],VCardSubtitle:w["b"],VCardText:w["c"],VCardTitle:w["d"]});var U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"pa-5 px-8",attrs:{dark:""}},[n("v-card-title",[e._v("Create file")]),n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:"Name",rules:[e.notEmpty]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-checkbox",{attrs:{label:"Show"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),n("v-checkbox",{attrs:{label:"Binary"},model:{value:e.binary,callback:function(t){e.binary=t},expression:"binary"}})],1),n("v-card-actions",[n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.exit}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.create}},[e._v("Create")])],1)],1)},W=[],K={name:"CreateFile",props:{exit:Function,refresh:Function,course:Object,assignment:Object},data:function(){return{isProcessing:!1,valid:!1,binary:!1,show:!0,name:"",notEmpty:function(e){return(e||"").length>0||"This field cannot be empty"}}},methods:{create:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.valid){t.next=14;break}return e.isProcessing=!0,console.log("PATH: "+e.path),t.next=5,f.createFile(e.course,{folderPath:e.assignment.path,name:e.name,binary:e.binary,show:e.show,content:""});case 5:if(n=t.sent,e.isProcessing=!1,console.log(n),n.success){t.next=11;break}return e.$notify({type:"bad",group:"main",title:"Create file",text:"".concat(n.message||"An error has occurred.")}),t.abrupt("return",!1);case 11:e.refresh(),e.exit(),e.$notify({type:"good",group:"main",title:"Create file",text:"File ".concat(e.name," created.")});case 14:case"end":return t.stop()}}),t)})))()}}},Q=K,Y=Object(g["a"])(Q,U,W,!1,null,"5e4b53be",null),Z=Y.exports;x()(Y,{VBtn:y["a"],VCard:k["a"],VCardActions:w["a"],VCardTitle:w["d"],VCheckbox:C["a"],VForm:D["a"],VTextField:V["a"]});var ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("Delete file")]),n("v-card-subtitle",[e._v(e._s(e.file.name)+" ("+e._s(e.file.path)+")")]),n("v-card-text",[e._v("Are you sure you want to delete this task?")]),n("v-card-actions",[n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.exit}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.submit}},[e._v("Delete")])],1)],1)},te=[],ne={name:"DeleteFile",props:{course:Object,file:Object,refresh:Function,exit:Function},data:function(){return{isProcessing:!1}},methods:{submit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isProcessing=!0,t.next=3,f.deleteFile(e.course,e.file);case 3:if(n=t.sent,e.isProcessing=!1,n.success){t.next=8;break}return e.$notify({type:"bad",group:"main",title:"Delete assignment",text:"".concat(n.message||"An error has occurred.")}),t.abrupt("return",!1);case 8:e.refresh(),e.exit(),e.$notify({type:"good",group:"main",title:"Delete assignment",text:"Assignment ".concat(e.assignment.name," deleted.")});case 11:case"end":return t.stop()}}),t)})))()}}},re=ne,ae=Object(g["a"])(re,ee,te,!1,null,"449ab8c3",null),se=ae.exports;x()(ae,{VBtn:y["a"],VCard:k["a"],VCardActions:w["a"],VCardSubtitle:w["b"],VCardText:w["c"],VCardTitle:w["d"]});var ie={components:{DeleteFile:se,CreateFile:Z,DeleteAssignment:G,VueContext:c["a"],FileEditor:O,EditAssignment:X,CreateAssignment:I},mounted:function(){},data:function(){return{selectedNode:void 0,loading:!1,showOverlay:!1,overlayAction:"",extensionRegex:/(?:\.([^.]+))?$/,fileTypes:{html:"mdi-language-html5",c:"mdi-language-c",cpp:"mdi-language-cpp",js:"mdi-nodejs",json:"mdi-code-json",md:"mdi-language-markdown",pdf:"mdi-file-pdf",png:"mdi-file-image",txt:"mdi-file-document-outline",autotest:"mdi-cog",autotest2:"mdi-cog",zadaca:"mdi-arrow-top-right-thick"},globalIdCounter:1,rawEditorFileExtensions:["c","cpp","java","js","mat","php","autotest","zadaca","json","txt","autotest2"],active:[],editorText:"This is initialValue.",editorOptions:{hideModeSwitch:!1},language:"x-csrc",code:"",cmOptions:{tabSize:4,mode:"text/x-csrc",theme:"idea",lineNumbers:!0,line:!0,autoCloseBrackets:!0,viewportMargin:1/0}}},computed:Object(i["a"])(Object(i["a"])({},Object(o["b"])(["courseById","assignmentsForCourse"])),{},{activeSelections:function(){return this.active},course:function(){var e=this.$route.params.course_id;return this.courseById(e)},assignments:function(){var e=this.$route.params.course_id,t=this.courseById(e),n=this.assignmentsForCourse(t);return n=void 0===n?[]:n.children,n},editorType:function(){if(0!==this.active.length){var e=this.active[0];return e.isDirectory?"none":{type:this.extensionRegex.exec(e.name)[1]}}return"none"},sidebarContent:function(e){return e}}),methods:{hideOverlay:function(){this.showOverlay=!1},refreshAssignments:function(){this.$store.dispatch("refreshAssignments")},assignmentEligible:function(e){var t=!0;return e.isDirectory||(t=!1),e.children&&e.children.forEach((function(e){e.isDirectory||(t=!1)})),t},fileEligible:function(e){var t=!0;return e.isDirectory||(t=!1),e.children&&e.children.forEach((function(e){e.isDirectory&&(t=!1)})),t},onClick:function(e,t){this.selectedNode=t,this.loading=!0,this.overlayAction=e,this.showOverlay=!0},activeChanged:function(e){0!==e.length&&this.treeItemClicked(e[0])},treeItemClicked:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.isDirectory){n.next=9;break}return r=t.$route.params.course_id,a=t.courseById(r),console.log(a),n.next=6,t.$refs.fileEditor.refresh(e);case 6:console.log("FILE: "+e.name),n.next=11;break;case 9:t.editorText="",console.log("FOLDER: "+e.name);case 11:case"end":return n.stop()}}),n)})))()},findInTree:function(e,t){var n=this;if(e.id===t.id&&e.name===t.name)return{name:e.name,success:!0};if(!e.children)return!1;var r=!1;return e.children.forEach((function(a){var s=n.findInTree(a,t);!0===s.success&&(s.path||(s.path=e.path),r=s)})),r}}},oe=ie,ce=(n("a8f9"),n("62ad")),le=n("a523"),ue=n("132d"),de=n("5d23"),me=n("a797"),pe=n("0fd9"),fe=n("eb2a"),he=Object(g["a"])(oe,r,a,!1,null,"3800b360",null);t["default"]=he.exports;x()(he,{VCard:k["a"],VCol:ce["a"],VContainer:le["a"],VIcon:ue["a"],VListItemTitle:de["c"],VOverlay:me["a"],VRow:pe["a"],VTreeview:fe["a"]})},"7ba3":function(e,t,n){},a8f9:function(e,t,n){"use strict";var r=n("4dad"),a=n.n(r);a.a}}]);
//# sourceMappingURL=chunk-485f628e.1f187992.js.map