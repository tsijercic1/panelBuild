(function(e){function t(t){for(var r,a,c=t[0],o=t[1],u=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},s={app:0},i=[];function c(e){return o.p+"assets/js/"+({}[e]||e)+"."+{"chunk-2d0ccbaa":"18541f24","chunk-2d22d746":"92030c6b","chunk-2d237ec0":"116e5fcb","chunk-4ba9806d":"baea9539","chunk-7254f589":"5b0c72ca","chunk-72c803e5":"431da8a1"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n={"chunk-4ba9806d":1,"chunk-7254f589":1,"chunk-72c803e5":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="assets/css/"+({}[e]||e)+"."+{"chunk-2d0ccbaa":"31d6cfe0","chunk-2d22d746":"31d6cfe0","chunk-2d237ec0":"31d6cfe0","chunk-4ba9806d":"55deb86c","chunk-7254f589":"572b7a25","chunk-72c803e5":"572b7a25"}[e]+".css",s=o.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===s))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===r||l===s)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],p.parentNode.removeChild(p),n(i)},p.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){a[e]=0})));var r=s[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=s[e]=[t,n]}));t.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=s[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}s[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/panel/",o.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2018:function(e,t,n){},2791:function(e,t,n){},"37d5":function(e,t,n){"use strict";var r=n("d1fa"),a=n.n(r);a.a},56071:function(e,t,n){"use strict";var r=n("2018"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("96cf");var r=n("1da1"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",["Login"!==this.$router.history.current.name?n("navigation"):e._e(),n("v-content",[n("router-view")],1),n("notifications",{attrs:{group:"main",position:"bottom right",classes:"notifications"}})],1)},i=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{dark:"",app:"","mini-variant":e.mini,permanent:""},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[n("v-list-item",{staticClass:"px-0",attrs:{"two-line":""}},[n("v-list-item-avatar",[n("v-icon",[e._v(e._s("mdi-alpha-"+(void 0===e.user.username?"x":e.user.username.charAt(0))+"-circle")+" ")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.user.realName))]),n("v-list-item-subtitle",[e._v(e._s(e.user.username))])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.mini=!e.mini}}},[n("v-icon",[e._v("mdi-chevron-left")])],1)],1),n("v-divider"),e._l(e.items,(function(t){return n("v-list-item",{key:t.title,attrs:{to:t.link,link:""}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),n("v-spacer"),n("v-list-item",{on:{click:e.logout}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-exit-run")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Logout")])],1)],1)],2)],1)},o=[],u=(n("caad"),n("d3b7"),n("2532"),{data:function(){return{drawer:!0,items:[{title:"Dashboard",icon:"mdi-view-dashboard",link:"/dashboard"}],mini:!0,user:{}}},mounted:function(){this.user=this.$store.getters.userProfile;var e,t=this.$store.getters.roles;(t.includes("admin")||t.includes("sysadmin"))&&(e=this.items).push.apply(e,[{title:"Courses",icon:"mdi-school",link:"/courses"},{title:"Usage Statistics",icon:"mdi-chart-areaspline-variant",link:"/statistics"},{title:"About",icon:"mdi-help-box",link:"/about"}])},methods:{logout:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/services/logout.php");case 2:return t.next=4,e.$router.push("/login");case 4:case"end":return t.stop()}}),t)})))()}}}),l=u,d=n("2877"),p=n("6544"),m=n.n(p),f=n("8336"),h=n("ce7e"),v=n("132d"),g=n("8860"),b=n("da13"),x=n("8270"),y=n("5d23"),k=n("34c3"),w=n("f774"),C=n("2fa4"),j=Object(d["a"])(l,c,o,!1,null,null,null),_=j.exports;m()(j,{VBtn:f["a"],VDivider:h["a"],VIcon:v["a"],VList:g["a"],VListItem:b["a"],VListItemAvatar:x["a"],VListItemContent:y["a"],VListItemIcon:k["a"],VListItemSubtitle:y["b"],VListItemTitle:y["c"],VNavigationDrawer:w["a"],VSpacer:C["a"]});var O={components:{Navigation:_}},A=O,E=(n("5c0b"),n("7496")),R=n("a75b"),I=Object(d["a"])(A,s,i,!1,null,null,null),V=I.exports;m()(I,{VApp:E["a"],VContent:R["a"]});n("b0c0");var S=n("8c4f"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("h1",[e._v("404")])])},P=[],T=n("a523"),F={},$=Object(d["a"])(F,N,P,!1,null,null,null),D=$.exports;m()($,{VContainer:T["a"]});var G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.inTheGame?n("GameBuilder"):e._e()],1)},L=[],B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("h1",[e._v(" Game lessons "),n("v-icon",{on:{click:function(t){return e.onClick("Create assignment",void 0)}}},[e._v("mdi-plus")])],1),n("v-overlay",{attrs:{value:e.overlay}},["Create assignment"===e.overlayAction?[n("CreateAssignment",{attrs:{exit:e.hideOverlay,refresh:e.refreshGame}})]:e._e(),"Edit assignment"===e.overlayAction?[n("EditAssignment",{attrs:{exit:e.hideOverlay,refresh:e.refreshGame,categories:e.categories,assignment:e.modalItem}})]:e._e(),"Create task"===e.overlayAction?[n("CreateTask",{attrs:{exit:e.hideOverlay,refresh:e.refreshGame,categories:e.categories,assignment:e.modalItem}})]:e._e(),"Edit task"===e.overlayAction?[n("EditTask",{attrs:{exit:e.hideOverlay,refresh:e.refreshGame,categories:e.categories,assignment:e.modalItem.parent,task:e.modalItem}})]:e._e(),"Delete task"===e.overlayAction?[n("DeleteTask",{attrs:{exit:e.hideOverlay,refresh:e.refreshGame,task:e.modalItem}})]:e._e(),"Create file"===e.overlayAction?[n("CreateFile",{attrs:{exit:e.hideOverlay,refresh:e.refreshGame,task:e.modalItem}})]:e._e(),"Delete file"===e.overlayAction?[n("DeleteFile",{attrs:{exit:e.hideOverlay,refresh:e.refreshGame,file:e.modalItem,task:e.modalItem.parent}})]:e._e()],2),n("vue-context",{ref:"menu",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data;return[null!==r&&void 0!==r?["assignment"===r.type?[n("li",[n("a",{on:{click:function(t){return t.preventDefault(),e.onClick("Edit assignment",r)}}},[e._v(" Edit assignment ")])]),n("li",[n("a",{on:{click:function(t){return t.preventDefault(),e.onClick("Create task",r)}}},[e._v(" Create task ")])])]:e._e(),"task"===r.type?[n("li",[n("a",{on:{click:function(t){return t.preventDefault(),e.onClick("Edit task",r)}}},[e._v(" Edit task ")])]),n("li",[n("a",{on:{click:function(t){return t.preventDefault(),e.onClick("Delete task",r)}}},[e._v(" Delete task ")])]),n("li",[n("a",{on:{click:function(t){return t.preventDefault(),e.onClick("Create file",r)}}},[e._v(" Create file ")])])]:e._e(),"file"===r.type?[n("li",[n("a",{on:{click:function(t){return t.preventDefault(),e.onClick("Delete file",r)}}},[e._v(" Delete file ")])])]:e._e()]:e._e()]}}])}),n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("v-treeview",{attrs:{activatable:"",dense:"",hoverable:"",items:e.assignments,"return-object":"",active:e.active},on:{"update:active":[function(t){e.active=t},function(t){return e.activeChanged(e.active)}]},scopedSlots:e._u([{key:"prepend",fn:function(t){var r=t.item,a=t.open;return[r.isDirectory?n("v-icon",{on:{contextmenu:function(t){return t.preventDefault(),e.$refs.menu.open(t,r)}}},[e._v(" "+e._s(a?"mdi-folder-open":"mdi-folder")+" ")]):n("v-icon",{on:{contextmenu:function(t){return t.preventDefault(),e.$refs.menu.open(t,r)}}},[e._v(" "+e._s(e.fileTypes[e.extensionRegex.exec(r.name)[1]])+" ")])]}},{key:"label",fn:function(t){var r=t.item;return[n("v-list-item-title",{on:{contextmenu:function(t){return t.preventDefault(),e.$refs.menu.open(t,r)}}},[e._v(" "+e._s(r.name+("file"!==r.type?" ("+r.path+")":""))+" "),"assignment"===r.type?[n("v-chip",{attrs:{color:"blue"}},[e._v(" "+e._s(e.getNumberOfTasksInCategory(r,"Easy"))+" ")]),n("v-chip",{attrs:{color:"blue"}},[e._v(" "+e._s(e.getNumberOfTasksInCategory(r,"Moderate"))+" ")]),n("v-chip",{attrs:{color:"blue"}},[e._v(" "+e._s(e.getNumberOfTasksInCategory(r,"Hard"))+" ")])]:e._e()],2)]}}])})],1),n("v-col",{attrs:{cols:"8"}},[n("v-card",{staticClass:"sticky",attrs:{tile:"",elevation:"2"}},[n("FileEditor",{ref:"fileEditor",staticClass:"editorWrapper",attrs:{service:e.service}})],1)],1)],1)],1)},J=[],M=(n("4160"),n("159b"),n("899b")),K=(n("f89b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"pa-5 px-8",attrs:{dark:""}},[n("h3",{staticClass:"text-center mb-3"},[e._v("Create assignment")]),n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:"Name",required:"",rules:[e.notEmpty]},model:{value:e.displayName,callback:function(t){e.displayName=t},expression:"displayName"}}),n("v-text-field",{attrs:{label:"Filesystem name",required:"",rules:[e.notEmpty,e.noSpaces]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-text-field",{attrs:{label:"Points",rules:[e.notEmpty,e.noSpaces,e.positive]},model:{value:e.points,callback:function(t){e.points=t},expression:"points"}}),n("v-text-field",{attrs:{label:"Challenge points",rules:[e.notEmpty,e.noSpaces,e.positive]},model:{value:e.challengePoints,callback:function(t){e.challengePoints=t},expression:"challengePoints"}}),n("v-checkbox",{attrs:{label:"Active"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}}),n("div",{staticClass:"d-flex justify-space-between mt-5"},[n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.exit}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.create}},[e._v("Create")])],1)],1)],1)}),U=[],X=(n("c975"),n("dde5")),q={name:"CreateAssignment",props:{refresh:Function,exit:Function},data:function(){return{isProcessing:!1,name:"",displayName:"",active:!0,points:0,challengePoints:0,valid:!1,notEmpty:function(e){return(e||"").length>0||"This field cannot be empty"},noSpaces:function(e){return(e||"").indexOf(" ")<0||"No spaces are allowed"},positive:function(e){return(e||-1)>0||"Number must not be negative"}}},methods:{create:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.valid){t.next=12;break}return e.isProcessing=!0,t.next=4,X["c"].createAssignment({name:e.name,displayName:e.displayName,points:e.points,challengePoints:e.challengePoints,active:e.active});case 4:if(n=t.sent,e.isProcessing=!1,n.success){t.next=9;break}return e.$notify({type:"bad",group:"main",title:"Create assignment",text:"".concat(n.message||"An error has occurred.")}),t.abrupt("return",!1);case 9:e.refresh(),e.exit(),e.$notify({type:"good",group:"main",title:"Create assignment",text:"Assignment ".concat(e.displayName," created.")});case 12:case"end":return t.stop()}}),t)})))()}}},z=q,H=n("b0af"),W=n("ac7c"),Q=n("4bd4"),Y=n("8654"),Z=Object(d["a"])(z,K,U,!1,null,"35401a57",null),ee=Z.exports;m()(Z,{VBtn:f["a"],VCard:H["a"],VCheckbox:W["a"],VForm:Q["a"],VTextField:Y["a"]});var te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"pa-5 px-8",attrs:{dark:""}},[n("h3",{staticClass:"text-center mb-3"},[e._v("Edit assignment")]),n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:"Name",required:"",rules:[e.notEmpty]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-text-field",{attrs:{label:"Points",rules:[e.nonNegative,e.notEmpty]},model:{value:e.points,callback:function(t){e.points=t},expression:"points"}}),n("v-text-field",{attrs:{label:"Challenge points",rules:[e.nonNegative,e.notEmpty]},model:{value:e.challengePoints,callback:function(t){e.challengePoints=t},expression:"challengePoints"}}),n("v-checkbox",{attrs:{label:"Active"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}}),n("div",{staticClass:"d-flex justify-space-between mt-5"},[n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.exit}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.submit}},[e._v("Update")])],1)],1)],1)},ne=[],re={name:"EditAssignment",props:{assignment:Object,refresh:Function,exit:Function},data:function(){return{isProcessing:!1,name:"",points:0,challengePoints:0,active:!1,valid:!1,notEmpty:function(e){return(e||"").length>0||"This field cannot be empty"},noSpaces:function(e){return(e||"").indexOf(" ")<0||"No spaces are allowed"},nonNegative:function(e){return(e||-1)>=0||"Number must not be negative"}}},mounted:function(){this.name=this.assignment.name,this.points=this.assignment.data.points,this.challengePoints=this.assignment.data.challengePoints,this.active=this.assignment.data.active},methods:{submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.valid){t.next=12;break}return e.isProcessing=!0,t.next=4,X["c"].editAssignment({id:e.assignment.scrapedId,name:e.name,points:e.points,challengePoints:e.challengePoints,active:e.active});case 4:if(n=t.sent,e.isProcessing=!1,n.success){t.next=9;break}return e.$notify({type:"bad",group:"main",title:"Edit assignment",text:"".concat(n.message||"An error has occurred.")}),t.abrupt("return",!1);case 9:e.refresh(),e.exit(),e.$notify({type:"good",group:"main",title:"Edit assignment",text:"Assignment ".concat(e.name," updated.")});case 12:case"end":return t.stop()}}),t)})))()}}},ae=re,se=Object(d["a"])(ae,te,ne,!1,null,"118a45d4",null),ie=se.exports;m()(se,{VBtn:f["a"],VCard:H["a"],VCheckbox:W["a"],VForm:Q["a"],VTextField:Y["a"]});var ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"pa-5 px-8",attrs:{dark:""}},[n("v-card-title",{staticClass:"text-center"},[e._v("Create task")]),n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:"Name",required:"",rules:[e.notEmpty]},model:{value:e.displayName,callback:function(t){e.displayName=t},expression:"displayName"}}),n("v-text-field",{attrs:{label:"Filesystem name",rules:[e.notEmpty,e.noSpaces],required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-select",{attrs:{label:"Category",items:e.categories,rules:[e.isSelected],"item-text":"name","return-object":""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),n("v-textarea",{attrs:{label:"Hint"},model:{value:e.hint,callback:function(t){e.hint=t},expression:"hint"}}),n("v-card-actions",{staticClass:"justify-space-between"},[n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.exit}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.create}},[e._v("Create")])],1)],1)],1)},oe=[],ue={name:"CreateTask",props:{assignment:Object,categories:Array,refresh:Function,exit:Function},data:function(){return{isProcessing:!1,valid:!1,name:"",displayName:"",hint:"",selected:void 0,notEmpty:function(e){return(e||"").length>0||"This field cannot be empty"},noSpaces:function(e){return(e||"").indexOf(" ")<0||"No spaces are allowed"},isSelected:function(e){return void 0!==e||"Number must not be negative"}}},methods:{create:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.valid){t.next=15;break}return e.isProcessing=!0,t.next=4,fetch("/services/uup_game.php?action=createTask&assignmentId=".concat(e.assignment.scrapedId),{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({name:e.name,displayName:e.displayName,category:e.selected.id,hint:e.hint})});case 4:return n=t.sent,t.next=7,n.json();case 7:if(r=t.sent,e.isProcessing=!1,r.success){t.next=12;break}return e.$notify({type:"bad",group:"main",title:"Create task",text:"".concat(r.message||"An error has occurred.")}),t.abrupt("return",!1);case 12:e.refresh(),e.exit(),e.$notify({type:"good",group:"main",title:"Create task",text:"Task ".concat(e.displayName," created.")});case 15:case"end":return t.stop()}}),t)})))()}}},le=ue,de=n("99d9"),pe=n("b974"),me=n("a844"),fe=Object(d["a"])(le,ce,oe,!1,null,"5a005299",null),he=fe.exports;m()(fe,{VBtn:f["a"],VCard:H["a"],VCardActions:de["a"],VCardTitle:de["d"],VForm:Q["a"],VSelect:pe["a"],VTextField:Y["a"],VTextarea:me["a"]});var ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"pa-5 px-8",attrs:{dark:""}},[n("h3",{staticClass:"text-center mb-3"},[e._v("Edit task")]),n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:"Name",required:"",rules:[e.notEmpty]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-select",{attrs:{label:"Category",items:e.categories,"item-text":"name",rules:[e.isSelected],"return-object":""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),n("v-textarea",{attrs:{label:"Hint"},model:{value:e.hint,callback:function(t){e.hint=t},expression:"hint"}}),n("div",{staticClass:"d-flex justify-space-between mt-5"},[n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.exit}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.submit}},[e._v("Update")])],1)],1)],1)},ge=[],be=(n("13d5"),{name:"EditTask",props:{assignment:Object,task:Object,categories:Array,refresh:Function,exit:Function},data:function(){return{isProcessing:!1,name:"",hint:"",selected:void 0,valid:!1,notEmpty:function(e){return(e||"").length>0||"This field cannot be empty"},noSpaces:function(e){return(e||"").indexOf(" ")<0||"No spaces are allowed"},isSelected:function(e){return void 0!==e||"Number must not be negative"}}},mounted:function(){var e=this;this.name=this.task.name,this.hint=this.task.data.hint;var t=this.categories.reduce((function(t,n){return n.id===e.task.data.category&&(t=n),t}),void 0);void 0===t&&(t=this.categories[0]),this.selected=t},methods:{submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.valid){t.next=15;break}return e.isProcessing=!0,t.next=4,fetch("/services/uup_game.php?action=editTask&taskId=".concat(e.task.scrapedId),{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({name:e.name,category:e.selected.id,hint:e.hint})});case 4:return n=t.sent,t.next=7,n.json();case 7:if(r=t.sent,e.isProcessing=!1,r.success){t.next=12;break}return e.$notify({type:"bad",group:"main",title:"Edit task",text:"".concat(r.message||"An error has occurred.")}),t.abrupt("return",!1);case 12:e.refresh(),e.exit(),e.$notify({type:"good",group:"main",title:"Edit task",text:"Task ".concat(e.name," updated.")});case 15:case"end":return t.stop()}}),t)})))()}}}),xe=be,ye=Object(d["a"])(xe,ve,ge,!1,null,"527de8e3",null),ke=ye.exports;m()(ye,{VBtn:f["a"],VCard:H["a"],VForm:Q["a"],VSelect:pe["a"],VTextField:Y["a"],VTextarea:me["a"]});var we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%"}},[n("v-overlay",{attrs:{value:e.showOverlay}},[e.loading?n("v-progress-circular",{staticClass:"position-absolute",attrs:{size:180,width:7,color:"purple",indeterminate:""}}):e._e(),n("span",{style:{display:e.loading?"none":"initial"}},[n("v-btn",{on:{click:e.closeGenerator}},[e._v("Close")]),n("v-card",{ref:"autotestGeneratorRef",attrs:{id:"autotestGeneratorId",height:"80vh",width:"80vw"}})],1)],1),"none"===e.editable.type?n("v-card",{staticClass:"inner-tile",attrs:{tile:""}},[n("v-card-title",[e._v("Select a file")])],1):"html"===e.editable.type?n("v-card",{staticClass:"inner-tile",attrs:{tile:""}},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.file.name))]),n("v-spacer"),n("v-checkbox",{attrs:{label:"Binary"},model:{value:e.binary,callback:function(t){e.binary=t},expression:"binary"}}),n("v-spacer"),n("v-checkbox",{attrs:{label:"Show"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),n("v-spacer"),n("v-btn",{on:{click:function(t){return e.save()}}},[e._v("Save")])],1),n("div",[n("editor",{ref:"toaster",attrs:{options:e.editorOptions,height:"75vh"}})],1)],1):e.rawEditorFileExtensions.includes(e.editable.type)?n("v-card",{attrs:{tile:""}},[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.file.name))]),n("v-spacer"),n("v-checkbox",{attrs:{label:"Binary"},model:{value:e.binary,callback:function(t){e.binary=t},expression:"binary"}}),n("v-spacer"),n("v-checkbox",{attrs:{label:"Show"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),n("v-spacer"),"autotest2"===e.editable.type?n("v-btn",{on:{click:e.openGenerator}},[e._v("Open generator")]):e._e(),n("v-spacer"),n("v-btn",{attrs:{disabled:e.isSaving},on:{click:function(t){return e.save()}}},[e._v("Save")])],1),n("div",[n("codemirror",{ref:"mirror",attrs:{options:e.cmOptions,id:"codemirror"},model:{value:e.fileContent,callback:function(t){e.fileContent=t},expression:"fileContent"}})],1)],1):e._e()],1)},Ce=[],je=(n("99af"),n("ac1f"),n("b85c")),_e=(n("2791"),n("4ba6"),n("f9d4"),n("b866"),n("8f94")),Oe=(n("10b2"),n("f513"),n("fe5f"),n("4ede")),Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{tile:"",height:"100%",width:"100%"}},[n("iframe",{attrs:{id:"generator-frame",src:e.autotestSrc,width:"100%",height:"100%"}})])},Ee=[],Re=n("53ca"),Ie={name:"GeneratorFrame",props:{config:Object(Re["a"])(""),save:Function},data:function(){return{autotestSrc:window.location.origin+"/panel/assets/autotestGenerator/html/index.html"}},created:function(){window.localStorage.setItem(".autotest-content",this.config)},mounted:function(){var e,t=null===(e=document.getElementById("generator-frame"))||void 0===e?void 0:e.contentWindow;t&&t.localStorage.setItem(".autotest-content",this.config),this.registerListener()},methods:{registerListener:function(){var e,t=this,n=null===(e=document.getElementById("generator-frame"))||void 0===e?void 0:e.contentWindow.document.getElementById("export-button");null===n||void 0===n?setTimeout((function(){t.registerListener()}),1e3):n.addEventListener("click",(function(){t.saveClicked()}))},saveClicked:function(){this.save(localStorage.getItem(".autotest-content"))}}},Ve=Ie,Se=Object(d["a"])(Ve,Ae,Ee,!1,null,"24a19dc5",null),Ne=Se.exports;m()(Se,{VCard:H["a"]});var Pe={name:"FileEditor",props:{service:Object},components:{codemirror:_e["codemirror"],Editor:Oe["Editor"]},data:function(){return{loading:!1,showOverlay:!1,binary:!1,show:!0,fileContent:"",file:void 0,extensionRegex:/(?:\.([^.]+))?$/,editorOptions:{hideModeSwitch:!1},modes:{c:"text/x-csrc",cpp:"text/x-c++src",java:"text/x-java",json:"application/json",javascript:"text/javascript",typescript:"text/typescript"},cmOptions:{tabSize:4,mode:"text/x-csrc",theme:"idea",lineNumbers:!0,line:!0,autoCloseBrackets:!0,viewportMargin:1/0,scrollStyle:"null"},rawEditorFileExtensions:["c","cpp","java","js","mat","php","autotest","zadaca","json","txt","autotest2"],isSaving:!1}},computed:{editable:function(){return this.file&&!this.file.isDirectory?{type:this.extensionRegex.exec(this.file.name)[1]}:{type:"none"}}},methods:{openGenerator:function(){var e=this;if("autotest2"===this.editable.type){var t=this.fileContent;this.file&&this.file.parent&&this.file.parent.parent&&""===t&&(t={id:this.file.parent.scrapedId,name:"Game, "+this.file.parent.parent.name+", "+this.file.parent.name,languages:[],tools:{},tests:[]},t=JSON.stringify(t));var n=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r,a,s,i,c,o,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/services/uup_game.php?action=editTaskFile&taskId=".concat(e.file.parent.scrapedId),{method:"put",headers:{Accept:"application/json"},body:JSON.stringify({name:e.file.name,content:n})});case 2:return r=t.sent,t.next=5,r.json();case 5:a=t.sent,e.isSaving=!1,a.success?(e.$notify({type:"good",group:"main",title:"Save file",text:"Autotests updated"}),s=JSON.parse(n),s=JSON.stringify(s,null,4),e.fileContent=s):e.$notify({type:"bad",group:"main",title:"Save file",text:"".concat(a.message||"An error has occurred.")}),e.showOverlay=!1,i=document.getElementById("autotestGeneratorId"),c=i.childNodes,o=Object(je["a"])(c);try{for(o.s();!(u=o.n()).done;)l=u.value,i.removeChild(l)}catch(d){o.e(d)}finally{o.f()}case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=a["default"].extend(Ne),i=new s({propsData:{save:n,config:t}});i.$mount(),this.showOverlay=!0,this.loading=!0,this.insertGenerator(i.$el)}},insertGenerator:function(e){var t=this,n=this.$refs.autotestGeneratorRef;void 0===n?setTimeout((function(){t.insertGenerator(e)}),1e3):(n.$el.appendChild(e),this.loading=!1)},closeGenerator:function(){this.showOverlay=!1;var e,t=document.getElementById("autotestGeneratorId"),n=t.childNodes,r=Object(je["a"])(n);try{for(r.s();!(e=r.n()).done;){var a=e.value;t.removeChild(a)}}catch(s){r.e(s)}finally{r.f()}},save:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isSaving=!0,n="",e.$refs.toaster?n=e.$refs.toaster.invoke("getHtml"):e.$refs.mirror&&(n=e.fileContent),t.next=5,fetch("/services/uup_game.php?action=editTaskFile&taskId=".concat(e.file.parent.scrapedId),{method:"put",headers:{Accept:"application/json"},body:JSON.stringify({name:e.file.name,content:n,show:e.show,binary:e.binary})});case 5:return r=t.sent,t.next=8,r.json();case 8:if(a=t.sent,e.isSaving=!1,a.success){t.next=13;break}return e.$notify({type:"bad",group:"main",title:"Save file",text:"".concat(a.message||"An error has occurred.")}),t.abrupt("return",!1);case 13:e.$notify({type:"good",group:"main",title:"Save file",text:"File /".concat(e.file.parent.parent.name,"/").concat(e.file.parent.name,"/").concat(e.file.name," saved.")});case 14:case"end":return t.stop()}}),t)})))()},refresh:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(void 0===e&&(t.editable={type:"none"}),t.$refs.toaster&&t.$refs.toaster.invoke("height","75vh"),t.file=e,!t.file||!t.file.parent){n.next=16;break}return n.next=6,fetch("/services/uup_game.php?action=getTaskFileContent&taskId=".concat(t.file.parent.scrapedId,"&name=").concat(t.file.name),{method:"get",headers:{Accept:"application/json"}});case 6:return r=n.sent,n.next=9,r.json();case 9:if(a=n.sent,a.success){n.next=12;break}return n.abrupt("return",!1);case 12:t.$refs.toaster?t.$refs.toaster.invoke("setHtml",a.data.content):t.$refs.mirror&&(t.fileContent=a.data.content),t.binary=t.file.data.binary,t.show=t.file.data.show,["autotest","zadaca","json","autotest2"].includes(t.extensionRegex.exec(e.name)[1])?(t.cmOptions.mode=t.modes.json,t.fileContent=JSON.stringify(JSON.parse(t.fileContent),null,4)):["c"].includes(t.extensionRegex.exec(e.name)[1])?t.cmOptions.mode=t.modes.c:["cpp"].includes(t.extensionRegex.exec(e.name)[1])?t.cmOptions.mode=t.modes.cpp:["java"].includes(t.extensionRegex.exec(e.name)[1])?t.cmOptions.mode=t.modes.java:["js"].includes(t.extensionRegex.exec(e.name)[1])?t.cmOptions.mode=t.modes.javascript:["ts"].includes(t.extensionRegex.exec(e.name)[1])&&(t.cmOptions.mode=t.modes.typescript);case 16:case"end":return n.stop()}}),n)})))()}}},Te=Pe,Fe=(n("56071"),n("a797")),$e=n("490a"),De=Object(d["a"])(Te,we,Ce,!1,null,"0cd65125",null),Ge=De.exports;m()(De,{VBtn:f["a"],VCard:H["a"],VCardTitle:de["d"],VCheckbox:W["a"],VOverlay:Fe["a"],VProgressCircular:$e["a"],VSpacer:C["a"]});var Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("Delete task")]),n("v-card-subtitle",[e._v("/"+e._s(e.task.parent.name)+"/"+e._s(e.task.name))]),n("v-card-text",[e._v("Are you sure you want to delete this task?")]),n("v-card-actions",[n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.exit}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.submit}},[e._v("Delete")])],1)],1)},Be=[],Je={name:"DeleteTask",props:{task:Object,exit:Function,refresh:Function},data:function(){return{isProcessing:!1}},methods:{submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isProcessing=!0,t.next=3,fetch("/services/uup_game.php?action=deleteTask&taskId=".concat(e.task.scrapedId),{method:"delete",headers:{Accept:"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:if(r=t.sent,e.isProcessing=!1,r.success){t.next=11;break}return e.$notify({type:"bad",group:"main",title:"Delete task",text:"".concat(r.message||"An error has occurred.")}),t.abrupt("return",!1);case 11:e.refresh(),e.exit(),e.$notify({type:"good",group:"main",title:"Delete task",text:"Task ".concat(e.task.name," deleted.")});case 14:case"end":return t.stop()}}),t)})))()}}},Me=Je,Ke=Object(d["a"])(Me,Le,Be,!1,null,"5f8792a4",null),Ue=Ke.exports;m()(Ke,{VBtn:f["a"],VCard:H["a"],VCardActions:de["a"],VCardSubtitle:de["b"],VCardText:de["c"],VCardTitle:de["d"]});var Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("Delete file")]),n("v-card-subtitle",[e._v("/"+e._s(e.task.parent.name)+"/"+e._s(e.task.name)+"/"+e._s(e.file.name))]),n("v-card-text",[e._v("Are you sure you want to delete this file?")]),n("v-card-actions",[n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.exit}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.submit}},[e._v("Delete")])],1)],1)},qe=[],ze={name:"DeleteFile",props:{task:Object,file:Object,refresh:Function,exit:Function},data:function(){return{isProcessing:!1}},methods:{submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isProcessing=!0,t.next=3,fetch("/services/uup_game.php?action=deleteTaskFile&taskId=".concat(e.task.scrapedId,"&name=").concat(e.file.name),{method:"delete",headers:{Accept:"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:if(r=t.sent,e.isProcessing=!1,r.success){t.next=11;break}return e.$notify({type:"bad",group:"main",title:"Delete file",text:"".concat(r.message||"An error has occurred.")}),t.abrupt("return",!1);case 11:e.refresh(),e.exit(),e.$notify({type:"good",group:"main",title:"Delete file",text:"File ".concat(e.name," deleted.")});case 14:case"end":return t.stop()}}),t)})))()}}},He=ze,We=Object(d["a"])(He,Xe,qe,!1,null,"34c6eb52",null),Qe=We.exports;m()(We,{VBtn:f["a"],VCard:H["a"],VCardActions:de["a"],VCardSubtitle:de["b"],VCardText:de["c"],VCardTitle:de["d"]});var Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"pa-5 px-8",attrs:{dark:""}},[n("v-card-title",[e._v("Create file")]),n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:"Name",rules:[e.notEmpty]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-checkbox",{attrs:{label:"Show"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}}),n("v-checkbox",{attrs:{label:"Binary"},model:{value:e.binary,callback:function(t){e.binary=t},expression:"binary"}})],1),n("v-card-actions",[n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.exit}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.isProcessing},on:{click:e.create}},[e._v("Create")])],1)],1)},Ze=[],et={name:"CreateFile",props:{task:Object,refresh:Function,exit:Function},data:function(){return{isProcessing:!1,valid:!1,binary:!1,show:!0,notEmpty:function(e){return(e||"").length>0||"This field cannot be empty"}}},methods:{create:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.valid){t.next=15;break}return e.isProcessing=!0,t.next=4,fetch("/services/uup_game.php?action=createTaskFile&taskId=".concat(e.task.scrapedId),{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({name:e.name,show:e.show,binary:e.binary,content:""})});case 4:return n=t.sent,t.next=7,n.json();case 7:if(r=t.sent,e.isProcessing=!1,r.success){t.next=12;break}return e.$notify({type:"bad",group:"main",title:"Create file",text:"".concat(r.message||"An error has occurred.")}),t.abrupt("return",!1);case 12:e.refresh(),e.exit(),e.$notify({type:"good",group:"main",title:"Create file",text:"File ".concat(e.name," created.")});case 15:case"end":return t.stop()}}),t)})))()}}},tt=et,nt=Object(d["a"])(tt,Ye,Ze,!1,null,"1866dda9",null),rt=nt.exports;m()(nt,{VBtn:f["a"],VCard:H["a"],VCardActions:de["a"],VCardTitle:de["d"],VCheckbox:W["a"],VForm:Q["a"],VTextField:Y["a"]});var at={components:{CreateFile:rt,DeleteFile:Qe,DeleteTask:Ue,FileEditor:Ge,EditTask:ke,CreateTask:he,EditAssignment:ie,CreateAssignment:ee,VueContext:M["a"]},name:"GameBuilder",data:function(){return{service:{name:"uup_game.php",actions:{getContent:"getTaskFileContent",saveContent:"editTaskFile"}},modalItem:void 0,overlay:!1,overlayAction:"",assignments:[],active:[],extensionRegex:/(?:\.([^.]+))?$/,fileTypes:{html:"mdi-language-html5",c:"mdi-language-c",cpp:"mdi-language-cpp",js:"mdi-nodejs",json:"mdi-code-json",md:"mdi-language-markdown",pdf:"mdi-file-pdf",png:"mdi-file-image",txt:"mdi-file-document-outline",autotest:"mdi-cog",autotest2:"mdi-cog",zadaca:"mdi-arrow-top-right-thick"},categories:[]}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.refreshGame();case 2:case"end":return t.stop()}}),t)})))()},methods:{hideOverlay:function(){this.overlay=!1},showOverLay:function(){this.overlay=!0},activeChanged:function(e){this.file=void 0,0!==e.length?this.treeItemClicked(e[0]):this.$refs.fileEditor.refresh(void 0)},treeItemClicked:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.isDirectory?t.$refs.fileEditor.refresh(void 0):t.$refs.fileEditor.refresh(e);case 1:case"end":return n.stop()}}),n)})))()},onClick:function(e,t){this.overlayAction=e,this.modalItem=t,this.showOverLay()},fixIds:function(e,t){var n=this;e&&(null!==t&&(e.parent=t),"file"===e.type?e.id=e.path:(e.scrapedId=e.id,e.id=e.id+"."+e.type),e.children&&e.children.forEach((function(t){return n.fixIds(t,e)})))},refreshGame:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],r=[],t.next=4,fetch("/services/uup_game.php?action=getTaskCategories",{method:"get",headers:{Accept:"application/json"}});case 4:return a=t.sent,t.next=7,a.json();case 7:if(s=t.sent,s.success){t.next=10;break}return t.abrupt("return",!1);case 10:return r=s.data,t.next=13,fetch("/services/uup_game.php?action=getAssignments&A",{method:"get",headers:{Accept:"application/json"}});case 13:return a=t.sent,t.next=16,a.json();case 16:if(s=t.sent,s.success){t.next=19;break}return t.abrupt("return",!1);case 19:return n=s.data.children,n.forEach((function(t){return e.fixIds(t,null)})),e.assignments=n,e.categories=r,t.abrupt("return",!0);case 24:case"end":return t.stop()}}),t)})))()},getNumberOfTasksInCategory:function(e,t){if("assignment"===e.type){var n=1;this.categories.forEach((function(e){return e.name===t?n=e.id:""}));var r=0;return e.children.forEach((function(e){e.data.category===n&&r++})),r}return 0}}},st=at,it=(n("37d5"),n("cc20")),ct=n("62ad"),ot=n("0fd9"),ut=n("eb2a"),lt=Object(d["a"])(st,B,J,!1,null,"4f97b052",null),dt=lt.exports;m()(lt,{VCard:H["a"],VChip:it["a"],VCol:ct["a"],VContainer:T["a"],VIcon:v["a"],VListItemTitle:y["c"],VOverlay:Fe["a"],VRow:ot["a"],VTreeview:ut["a"]});var pt={name:"Dashboard",components:{GameBuilder:dt},data:function(){return{inTheGame:!1}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/services/uup_game.php?action=check");case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,console.log(r),r.success&&r.roles.includes("admin")&&console.log("yes"),e.inTheGame=r.success;case 9:case"end":return t.stop()}}),t)})))()}},mt=pt,ft=Object(d["a"])(mt,G,L,!1,null,null,null),ht=ft.exports;m()(ft,{VContainer:T["a"]});var vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-content",{staticClass:"grey darken-4"},[n("v-container",{attrs:{"fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs9:"",sm7:"",md5:"",lg4:""}},[n("v-card",{staticClass:"pa-10 text-center",attrs:{light:""}},[n("v-card-title",[e._v("Log in to your account")]),n("v-form",{staticClass:"my-4"},[n("v-text-field",{attrs:{light:"",label:"Username","prepend-icon":"mdi-account"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("v-text-field",{attrs:{light:"",type:"password",label:"Password","prepend-icon":"mdi-lock"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{staticClass:"mt-6",attrs:{large:"",width:"100%",dark:""},on:{click:e.login}},[e._v(" Log in ")])],1),e.showError?n("v-alert",{attrs:{type:"error"}},[e._v(" "+e._s(e.errorMessage)+" ")]):e._e()],1)],1)],1)],1)],1)],1)},gt=[],bt={name:"Login",data:function(){return{showError:!1,errorMessage:"",username:void 0,password:void 0}},methods:{login:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.username,n=this.password,e.next=3,this.$store.dispatch("login",{username:t,password:n});case 3:if(r=e.sent,!0!==r.success){e.next=9;break}return e.next=7,this.$router.push({name:"Dashboard"});case 7:e.next=12;break;case 9:this.showError=!0,this.errorMessage=r.message,setTimeout((function(){return a.hideError()}),5e3);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hideError:function(){this.showError=!1,this.errorMessage=""}}},xt=bt,yt=n("0798"),kt=n("0e8f"),wt=n("a722"),Ct=Object(d["a"])(xt,vt,gt,!1,null,null,null),jt=Ct.exports;m()(Ct,{VAlert:yt["a"],VApp:E["a"],VBtn:f["a"],VCard:H["a"],VCardTitle:de["d"],VContainer:T["a"],VContent:R["a"],VFlex:kt["a"],VForm:Q["a"],VLayout:wt["a"],VTextField:Y["a"]});var _t=n("2f62"),Ot=n("5530"),At={state:{userId:void 0,sessionId:void 0,profile:{},roles:[]},mutations:{setUserId:function(e,t){e.userId=t},setSessionId:function(e,t){e.sessionId=t},setProfile:function(e,t){e.profile=Object(Ot["a"])(Object(Ot["a"])({},e.profile),t)},setRoles:function(e,t){e.roles=t}},getters:{isAuthenticated:function(e){return void 0!==e.sessionId},userProfile:function(e){return e.profile},roles:function(e){return e.roles}},actions:{login:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,i,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.username,a=n.password,e.next=3,fetch("/services/auth.php",{method:"post",body:"login=".concat(encodeURIComponent(r),"&password=").concat(encodeURIComponent(a)),headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});case 3:return s=e.sent,e.next=6,s.json();case 6:if(i=e.sent,!0!==i.success&&"true"!==i.success||!(i.roles.includes("sysadmin")||i.roles.includes("admin")||i.roles.includes("game-spectator"))){e.next=22;break}return t.commit("setUserId",1),t.commit("setSessionId",i["sid"]),t.commit("setProfile",{username:r,realName:""}),t.commit("setRoles",i.roles),e.next=14,fetch("/services/users.php?user=".concat(r),{method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});case 14:return c=e.sent,e.next=17,c.json();case 17:return o=e.sent,!0!==o.success&&"true"!==o.success||t.commit("setProfile",{realName:o.data.realname}),e.abrupt("return",{success:i.success});case 22:return i.success&&"student"===i.role&&(i.message="Nedozvoljen pristup"),e.abrupt("return",{success:!1,message:i.message});case 24:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),refresh:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/services/refresh.php");case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!0!==r.success&&"true"!==r.success||!(r.roles.includes("sysadmin")||r.roles.includes("admin")||r.roles.includes("game-spectator"))){e.next=21;break}return t.commit("setUserId",1),t.commit("setSessionId",r["sid"]),t.commit("setProfile",{username:r.username,realName:""}),t.commit("setRoles",r.roles),e.next=13,fetch("/services/users.php?user=".concat(r.username),{method:"get",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});case 13:return a=e.sent,e.next=16,a.json();case 16:return s=e.sent,!0!==s.success&&"true"!==s.success||t.commit("setProfile",{realName:s.data.realname}),e.abrupt("return",{success:r.success});case 21:return r.success&&r.roles.includes("student")&&1===r.roles.length&&(r.message="Nedozvoljen pristup"),e.abrupt("return",{success:!1,message:r.message});case 23:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},Et=(n("4de4"),n("3835")),Rt={state:{courses:[]},mutations:{setCourses:function(e,t){e.courses=t},updateCourse:function(e,t){var n=Object(Et["a"])(t,3),r=n[0],a=n[1],s=n[2],i=e.courses.filter((function(e){return e.id===r}));0!==i.length&&(i[0].groups=a.groups,s.$forceUpdate())}},getters:{courses:function(e){return e.courses},courseById:function(e){return function(t){var n;return null===(n=e.courses)||void 0===n?void 0:n.filter((function(e){return e.id+""===t}))[0]}},groupsForCourseId:function(e){return function(t){var n;return(null===(n=e.courses)||void 0===n?void 0:n.filter((function(e){return e.id===t}))[0].groups)||[]}},membersOfGroupByGroupIdAndCourseId:function(e){return function(t,n){var r,a;return(null===(r=e.courses)||void 0===r||null===(a=r.filter((function(e){return e.id===t}))[0].groups)||void 0===a?void 0:a.filter((function(e){return e.id===n}))[0].members)||{}}}},actions:{refreshMembers:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,s,i,c,o,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=Object(Et["a"])(t,2),s=a[0],i=a[1],c=Object(je["a"])(s.groups||[]),r.prev=2,c.s();case 4:if((o=c.n()).done){r.next=15;break}return u=o.value,r.next=8,X["b"].getMembersForGroupInCourse(u,s);case 8:if(l=r.sent,l.success){r.next=12;break}return n.$notify({type:"bad",group:"main",title:"Getting members of ".concat(u.name," (").concat(s.name,")"),text:"".concat(l.message||"An error has occurred.")}),r.abrupt("return",!1);case 12:u.members=l.data.members;case 13:r.next=4;break;case 15:r.next=20;break;case 17:r.prev=17,r.t0=r["catch"](2),c.e(r.t0);case 20:return r.prev=20,c.f(),r.finish(20);case 23:e.commit("updateCourse",[s.id,s,i]);case 24:case"end":return r.stop()}}),r,null,[[2,17,20,23]])})))()},refreshCourses:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,X["b"].getCourses();case 2:if(r=n.sent,r.success){n.next=6;break}return t.$notify({type:"bad",group:"main",title:"Getting courses",text:"".concat(r.message||"An error has occurred.")}),n.abrupt("return",!1);case 6:a=r.data,s=Object(je["a"])(a),n.prev=8,s.s();case 10:if((i=s.n()).done){n.next=18;break}return c=i.value,n.next=14,X["b"].getGroupsForCourse(c);case 14:o=n.sent,o.success?c.groups=o.data.groups:t.$notify({type:"bad",group:"main",title:"Getting groups for ".concat(c.name),text:"".concat(o.message||"An error has occurred.")});case 16:n.next=10;break;case 18:n.next=23;break;case 20:n.prev=20,n.t0=n["catch"](8),s.e(n.t0);case 23:return n.prev=23,s.f(),n.finish(23);case 26:e.commit("setCourses",a);case 27:case"end":return n.stop()}}),n,null,[[8,20,23,26]])})))()}}},It={recursiveIdAddition:function(e,t){if(this.hasKey(e,"id")){if(this.hasKey(e,"children")){var n,r=Object(je["a"])(e.children);try{for(r.s();!(n=r.n()).done;){var a=n.value;a.parent=e,this.recursiveIdAddition(a,t)}}catch(o){r.e(o)}finally{r.f()}}}else if(e.id=e.name+"_"+t.value,t.value=t.value+1,this.hasKey(e,"children")){var s,i=Object(je["a"])(e.children);try{for(i.s();!(s=i.n()).done;){var c=s.value;c.parent=e,this.recursiveIdAddition(c,t)}}catch(o){i.e(o)}finally{i.f()}}},hasKey:function(e,t){return{}.hasOwnProperty.call(e,t)},getFullCourseId:function(e){return(e.external?"X":"")+e.id+"_"+e.year},tweakAssignmentTree:function(e){var t={value:1};return this.recursiveIdAddition(e,t),e}},Vt={state:{assignments:{}},mutations:{setAssignments:function(e,t){e.assignments=t}},getters:{assignments:function(e){return e.assignments},assignmentById:function(e){return function(t){return e.assignments.filter((function(e){return e.id+""===t}))[0]}},assignmentsForCourse:function(e){return function(t){return e.assignments[It.getFullCourseId(t)]}}},actions:{refreshAssignments:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r={},a=e.getters.courses,s=Object(je["a"])(a),n.prev=3,s.s();case 5:if((i=s.n()).done){n.next=13;break}return c=i.value,n.next=9,X["a"].getAssignments(c);case 9:o=n.sent,o.success?r[It.getFullCourseId(c)]=It.tweakAssignmentTree(o.data):t.$notify({type:"bad",group:"main",title:"Getting assignments",text:"".concat(o.message||"An error has occurred.")});case 11:n.next=5;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n["catch"](3),s.e(n.t0);case 18:return n.prev=18,s.f(),n.finish(18);case 21:e.commit("setAssignments",r);case 22:case"end":return n.stop()}}),n,null,[[3,15,18,21]])})))()}}},St=(n("fb6a"),n("4f96")),Nt={state:{statistics:{}},mutations:{addCourse:function(e,t){It.hasKey(e.statistics,t)||(e.statistics[t]={})},addStudentToCourse:function(e,t){var n=t.course,r=t.student;It.hasKey(e.statistics,n)&&!It.hasKey(e.statistics[n],r)&&(e.statistics[n][r]={})},addInfoToCourseSubPath:function(e,t){var n=t.pathArray,r=t.student,a=t.info,s=n[0];if(It.hasKey(e.statistics,s)&&It.hasKey(e.statistics[s],r)){var i=e.statistics[s][r];if(i.path=s,n.length>1){var c,o=Object(St["a"])(n),u=o.slice(1),l=Object(je["a"])(u);try{for(l.s();!(c=l.n()).done;){var d=c.value;It.hasKey(i,"assignments")||(i.assignments={}),It.hasKey(i.assignments,d)||(i.assignments[d]={path:i.path+"/"+d}),i=i.assignments[d]}}catch(p){l.e(p)}finally{l.f()}}i.assignments=a.assignments,i.stats=a.stats,i.lastAccess=a.lastAccess}}},getters:{}};a["default"].use(_t["a"]);var Pt=new _t["a"].Store({state:{},mutations:{},actions:{},modules:{AuthStore:At,CourseStore:Rt,AssignmentStore:Vt,AssignmentProgressStore:Nt}});a["default"].use(S["a"]);var Tt=[{path:"/dashboard",name:"Dashboard",component:ht},{path:"/",name:"Dashboard",component:ht},{path:"/about",name:"About",component:function(){return n.e("chunk-2d22d746").then(n.bind(null,"f820"))}},{path:"/login",name:"Login",component:jt},{path:"/courses",name:"Courses",component:function(){return n.e("chunk-7254f589").then(n.bind(null,"1a2f"))}},{path:"/courses/:course_id",name:"Course",component:function(){return n.e("chunk-72c803e5").then(n.bind(null,"9f72"))}},{path:"/courses/:course_id/groups/:group_id",name:"Group",component:function(){return n.e("chunk-2d0ccbaa").then(n.bind(null,"4ebe"))}},{path:"/assignments/:course_id",name:"Assignments",component:function(){return n.e("chunk-4ba9806d").then(n.bind(null,"5e25"))}},{path:"/statistics",name:"Statistics",component:function(){return n.e("chunk-2d237ec0").then(n.bind(null,"fcd1"))}},{path:"*",name:"NotFound",component:D}],Ft=new S["a"]({mode:"history",base:"/panel/",routes:Tt});Ft.beforeEach((function(e,t,n){Pt.getters.roles.includes("sysadmin")||Pt.getters.roles.includes("admin")?"Login"===e.name||Pt.getters.isAuthenticated?n():n(jt):!Pt.getters.roles.includes("game-spectators")||"Login"!==e.name&&"Dashboard"!==e.name?n(jt):"Login"===e.name||Pt.getters.isAuthenticated?n():n(jt)})),document.addEventListener("logout",Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("/login"===Ft.currentRoute.path){e.next=3;break}return e.next=3,Ft.push("/login");case 3:case"end":return e.stop()}}),e)}))));var $t=Ft,Dt=n("f309");a["default"].use(Dt["a"]);var Gt=new Dt["a"]({}),Lt=(n("d1e78"),n("ee98")),Bt=n.n(Lt);a["default"].use(Bt.a),a["default"].config.productionTip=!1;var Jt=void 0;Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Pt.dispatch("refresh");case 2:Jt=new a["default"]({router:$t,store:Pt,vuetify:Gt,render:function(e){return e(V)}}).$mount("#app"),Pt.app=Jt,Pt.$notify=Jt.$notify;case 5:case"end":return e.stop()}}),e)})))()},"5c0b":function(e,t,n){"use strict";var r=n("7694"),a=n.n(r);a.a},7694:function(e,t,n){},d1fa:function(e,t,n){},dde5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u}));n("99af"),n("caad"),n("b0c0"),n("d3b7"),n("2532"),n("96cf");var r=n("1da1"),a={getAssignments:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s,i,c,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.id,r=e.external,a=e.year,s=r?"&X":"",i="/services/assignments.php?action=getAssignments&course_id=".concat(n).concat(s,"&year=").concat(a),t.next=5,fetch(i,{method:"get",headers:{Accept:"application/json"}});case 5:return c=t.sent,t.next=8,c.json();case 8:return o=t.sent,o.success||o.message.includes("logged")&&(u=new Event("logout"),document.dispatchEvent(u)),t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})))()},convertAssignments:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s,i,c,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.id,r=e.external,a=e.year,s=r?"&X":"",i="/services/assignments.php?action=updateAssignments&course_id=".concat(n).concat(s,"&year=").concat(a),t.next=5,fetch(i,{method:"get",headers:{Accept:"application/json"}});case 5:return c=t.sent,t.next=8,c.json();case 8:return o=t.sent,o.success||o.message.includes("logged")&&(u=new Event("logout"),document.dispatchEvent(u)),t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})))()},createAssignment:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,c,o,u,l,d,p,m,f,h,v;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.id,a=e.external,s=e.year,i=t.path,c=t.name,o=t.displayName,u=t.type,l=t.hidden,d=t.homeworkId,p=a?"&X":"",m="/services/assignments.php?action=createAssignment&course_id=".concat(r).concat(p,"&year=").concat(s),n.next=6,fetch(m,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({path:i,name:c,displayName:o,type:u,hidden:l,homeworkId:d})});case 6:return f=n.sent,n.next=9,f.json();case 9:return h=n.sent,h.success||h.message.includes("logged")&&(v=new Event("logout"),document.dispatchEvent(v)),n.abrupt("return",h);case 12:case"end":return n.stop()}}),n)})))()},editAssignment:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,c,o,u,l,d,p,m,f,h;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.id,a=e.external,s=e.year,i=t.path,c=t.displayName,o=t.type,u=t.hidden,l=t.homeworkId,d=a?"&X":"",p="/services/assignments.php?action=editAssignment&course_id=".concat(r).concat(d,"&year=").concat(s),n.next=6,fetch(p,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({path:i,displayName:c,type:o,hidden:u,homeworkId:l})});case 6:return m=n.sent,n.next=9,m.json();case 9:return f=n.sent,f.success||f.message.includes("logged")&&(h=new Event("logout"),document.dispatchEvent(h)),n.abrupt("return",f);case 12:case"end":return n.stop()}}),n)})))()},deleteAssignment:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,c,o,u,l,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.id,a=e.external,s=e.year,i=t.path,c=a?"&X":"",o="/services/assignments.php?action=deleteAssignment&course_id=".concat(r).concat(c,"&year=").concat(s),n.next=6,fetch(o,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({path:i})});case 6:return u=n.sent,n.next=9,u.json();case 9:return l=n.sent,l.success||l.message.includes("logged")&&(d=new Event("logout"),document.dispatchEvent(d)),n.abrupt("return",l);case 12:case"end":return n.stop()}}),n)})))()},getFileContent:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,c,o,u,l,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.id,a=e.external,s=e.year,i=t.path,c=a?"&X":"",o="/services/assignments.php?action=getFileContent&course_id=".concat(r).concat(c,"&year=").concat(s),n.next=6,fetch(o,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({path:i})});case 6:return u=n.sent,n.next=9,u.json();case 9:return l=n.sent,l.success||l.message.includes("logged")&&(d=new Event("logout"),document.dispatchEvent(d)),n.abrupt("return",l);case 12:case"end":return n.stop()}}),n)})))()},createFile:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,c,o,u,l,d,p,m,f,h;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.id,a=e.external,s=e.year,i=t.folderPath,c=t.name,o=t.show,u=t.binary,l=t.content,d=a?"&X":"",p="/services/assignments.php?action=createFile&course_id=".concat(r).concat(d,"&year=").concat(s),n.next=6,fetch(p,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({folderPath:i,name:c,show:o,binary:u,content:l})});case 6:return m=n.sent,n.next=9,m.json();case 9:return f=n.sent,f.success||f.message.includes("logged")&&(h=new Event("logout"),document.dispatchEvent(h)),n.abrupt("return",f);case 12:case"end":return n.stop()}}),n)})))()},editFile:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,c,o,u,l,d,p,m,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.id,a=e.external,s=e.year,i=t.path,c=t.content,o=t.show,u=t.binary,l=a?"&X":"",d="/services/assignments.php?action=editFile&course_id=".concat(r).concat(l,"&year=").concat(s),console.log(c),n.next=7,fetch(d,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({path:i,content:c,show:o,binary:u})});case 7:return p=n.sent,n.next=10,p.json();case 10:return m=n.sent,m.success||m.message.includes("logged")&&(f=new Event("logout"),document.dispatchEvent(f)),n.abrupt("return",m);case 13:case"end":return n.stop()}}),n)})))()},deleteFile:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,c,o,u,l,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.id,a=e.external,s=e.year,i=t.path,c=a?"&X":"",o="/services/assignments.php?action=deleteFile&course_id=".concat(r).concat(c,"&year=").concat(s),n.next=6,fetch(o,{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({path:i})});case 6:return u=n.sent,n.next=9,u.json();case 9:return l=n.sent,l.success||l.message.includes("logged")&&(d=new Event("logout"),document.dispatchEvent(d)),n.abrupt("return",l);case 12:case"end":return n.stop()}}),n)})))()}},s={getCourses:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/services/courses.php",{method:"get",headers:{Accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,n.success||n.message.includes("logged")&&(r=new Event("logout"),document.dispatchEvent(r)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))()},getGroupsForCourse:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="/services/courses.php?course_id=".concat(e.id).concat(e.external?"&X":"","&year=").concat(e.year,"&groups"),t.next=3,fetch(n,{method:"get",headers:{Accept:"application/json"}});case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,a.success||a.message.includes("logged")&&(s=new Event("logout"),document.dispatchEvent(s)),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))()},getMembersForGroupInCourse:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("/services/courses.php?course_id=".concat(t.id,"&group_id=").concat(e.id,"&members"),{method:"get",headers:{Accept:"application/json"}});case 2:return r=n.sent,n.next=5,r.json();case 5:return a=n.sent,a.success||a.message.includes("logged")&&(s=new Event("logout"),document.dispatchEvent(s)),n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))()}},i={createAssignment:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s,i,c,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.name,r=e.displayName,a=e.points,s=e.challengePoints,i=e.active,t.next=3,fetch("/services/uup_game.php?action=createAssignment",{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({name:n,displayName:r,points:a,challengePoints:s,active:i})});case 3:return c=t.sent,t.next=6,c.json();case 6:return o=t.sent,o.success||o.message.includes("logged")&&(u=new Event("logout"),document.dispatchEvent(u)),t.abrupt("return",o);case 9:case"end":return t.stop()}}),t)})))()},editAssignment:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s,i,c,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.id,r=e.name,a=e.points,s=e.challengePoints,i=e.active,t.next=3,fetch("/services/uup_game.php?action=editAssignment&assignmentId=".concat(n),{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({name:r,points:a,challengePoints:s,active:i})});case 3:return c=t.sent,t.next=6,c.json();case 6:return o=t.sent,o.success||o.message.includes("logged")&&(u=new Event("logout"),document.dispatchEvent(u)),t.abrupt("return",o);case 9:case"end":return t.stop()}}),t)})))()},createTask:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s,i,c,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.id,r=e.name,a=e.displayName,s=e.category,i=e.hint,t.next=3,fetch("/services/uup_game.php?action=createTask&assignmentId=".concat(n),{method:"post",headers:{Accept:"application/json"},body:JSON.stringify({name:r,displayName:a,category:s,hint:i})});case 3:return c=t.sent,t.next=6,c.json();case 6:return o=t.sent,o.success||o.message.includes("logged")&&(u=new Event("logout"),document.dispatchEvent(u)),t.abrupt("return",o);case 9:case"end":return t.stop()}}),t)})))()}},c=a,o=s,u=i}});
//# sourceMappingURL=app.c6bee3b0.js.map