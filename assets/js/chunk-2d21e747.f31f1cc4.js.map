{"version":3,"sources":["webpack:///./src/components/gameStatisticsComponents/StudentInfo.vue?7e54","webpack:///src/components/gameStatisticsComponents/StudentInfo.vue","webpack:///./src/components/gameStatisticsComponents/StudentInfo.vue?9e65","webpack:///./src/components/gameStatisticsComponents/StudentInfo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","realName","attrs","pointPercentage","points","assignments","active","on","$event","activeChanged","scopedSlots","_u","key","fn","ref","item","open","getColorOfIcon","fileTypes","extensionRegex","exec","name","type","isAssignmentDone","_e","getTaskChipColor","status","getAssignmentPoints","toFixed","staticRenderFns","data","undefined","computed","methods","console","log","taskNumber","task","assignment","children","forEach","result","component","VCard","VCardTitle","VChip","VCol","VIcon","VProgressLinear","VRow","VTreeview"],"mappings":"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","file":"assets/js/chunk-2d21e747.f31f1cc4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_vm._v(_vm._s(_vm.realName))]),_c('v-progress-linear',{attrs:{\"height\":\"25\",\"value\":_vm.pointPercentage}},[_c('strong',[_vm._v(_vm._s(_vm.points))])]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-treeview',{attrs:{\"activatable\":\"\",\"dense\":\"\",\"hoverable\":\"\",\"items\":_vm.assignments,\"return-object\":\"\",\"active\":_vm.active},on:{\"update:active\":[function($event){_vm.active=$event},function($event){return _vm.activeChanged(_vm.active)}]},scopedSlots:_vm._u([{key:\"prepend\",fn:function(ref){\nvar item = ref.item;\nvar open = ref.open;\nreturn [(item.isDirectory)?_c('v-icon',{attrs:{\"color\":_vm.getColorOfIcon(item)}},[_vm._v(\" \"+_vm._s(open ? \"mdi-folder-open\" : \"mdi-folder\")+\" \")]):_c('v-icon',[_vm._v(\" \"+_vm._s(_vm.fileTypes[_vm.extensionRegex.exec(item.name)[1]])+\" \")])]}},{key:\"label\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(item.name + (item.type !== \"file\" ? (\" (\" + (item.path) + \")\") : \"\"))+\" \"),(item.type==='assignment' && _vm.isAssignmentDone(item))?_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-check-bold\")]):_vm._e(),(item.type === 'task')?_c('v-chip',{attrs:{\"color\":_vm.getTaskChipColor(item)}},[_vm._v(_vm._s(item.status))]):_vm._e(),(item.type === 'assignment')?[_vm._v(\" \"+_vm._s(((_vm.getAssignmentPoints(item).toFixed(2)) + \" / \" + (item.totalPoints)))+\" \")]:_vm._e()]}}])})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_vm._v(\" In development \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <v-card-title>{{ realName }}</v-card-title>\n    <v-progress-linear\n        height=\"25\"\n        :value=\"pointPercentage\"\n    >\n      <strong>{{ points }}</strong>\n    </v-progress-linear>\n    <v-row>\n      <v-col cols=\"6\">\n        <v-treeview\n            activatable\n            dense\n            hoverable\n            :items=\"assignments\"\n            return-object\n            :active.sync=\"active\"\n            @update:active=\"activeChanged(active)\"\n        >\n          <template v-slot:prepend=\"{ item, open }\">\n            <v-icon\n                v-if=\"item.isDirectory\"\n                :color=\"getColorOfIcon(item)\"\n            >\n              {{ open ? \"mdi-folder-open\" : \"mdi-folder\" }}\n            </v-icon>\n            <v-icon v-else>\n              {{ fileTypes[extensionRegex.exec(item.name)[1]] }}\n            </v-icon>\n          </template>\n          <template v-slot:label=\"{ item }\">\n              {{ item.name + (item.type !== \"file\" ? ` (${item.path})` : \"\") }}\n              <v-icon v-if=\"item.type==='assignment' && isAssignmentDone(item)\" color=\"green\">mdi-check-bold</v-icon>\n              <v-chip v-if=\"item.type === 'task'\" :color=\"getTaskChipColor(item)\">{{item.status}}</v-chip>\n              <template v-if=\"item.type === 'assignment'\">\n                {{ `${getAssignmentPoints(item).toFixed(2)} / ${item.totalPoints}` }}\n              </template>\n          </template>\n        </v-treeview>\n      </v-col>\n      <v-col cols=\"6\">\n        In development\n      </v-col>\n    </v-row>\n  </v-card>\n</template>\n\n<script>\nimport {gameStatisticsService} from \"@/services\";\nimport {fileTypes, extensionRegex, getCategoryColor} from \"@/constants\";\n\nexport default {\n  name: \"StudentInfo\",\n  data() {\n    return {\n      realName: \"\",\n      points: 0,\n      assignments: [],\n      active: undefined,\n      fileTypes,\n      extensionRegex\n    }\n  },\n  computed: {\n    pointPercentage() {\n      return this.points * 100 / 40;\n    }\n  },\n  async mounted() {\n    const query = this.$route.query;\n    if (Object.keys(query).includes(\"username\")) {\n      const body = await gameStatisticsService.getStudentInfo(query.username);\n      const assignmentBody = await gameStatisticsService.getAssignments();\n      console.log(\"StudentInfo - Line 77 - OK\");\n      if (body.success === true && assignmentBody.success === true) {\n        console.log(\"StudentInfo - Line 80 - OK\");\n        this.realName = body.student.realName;\n        this.points = body.student.totalPoints;\n        let assignmentDescriptions = assignmentBody.data.children;\n        let assignmentMap = {};\n        assignmentDescriptions.forEach(assignmentDescription => {\n          console.log(assignmentDescription);\n          assignmentDescription.children?.forEach(child => {\n            assignmentDescription[child.id] = child;\n          });\n          assignmentDescription.children = undefined;\n          assignmentMap[assignmentDescription.id] = assignmentDescription;\n        });\n        let assignments = [];\n        console.log(Object.keys(body.data))\n        for (let assignmentId of Object.keys(body.data)) {\n          let assignment = {\n            id: 'assignment'+assignmentId,\n            scrapedId: assignmentId,\n            name: assignmentMap[assignmentId].name,\n            path: assignmentMap[assignmentId].path,\n            isDirectory: assignmentMap[assignmentId].isDirectory,\n            type: assignmentMap[assignmentId].type,\n            totalPoints: assignmentMap[assignmentId].data.points\n          };\n          let children = [];\n          body.data[assignmentId].forEach(task => {\n            const descriptor = assignmentMap[assignmentId][task.task_id];\n            let element = {\n              id: assignmentId + \"-\" + descriptor.id,\n              scrapedId: descriptor.id,\n              path: descriptor.path,\n              name: descriptor.name,\n              type: descriptor.type,\n              isDirectory: descriptor.isDirectory,\n              status: task.status,\n              taskNumber: task.task_number,\n              points: task.points,\n              parent: assignment\n            };\n            children.push(element);\n          });\n          assignment.children = children;\n          assignments.push(\n            assignment\n          );\n        }\n        console.log(assignments);\n        this.assignments = assignments;\n      }\n    } else {\n      console.log(\"Student username not set!!!\");\n    }\n  },\n  methods: {\n    activeChanged(item) {\n      console.log(\"Clicked on: \");\n      console.log(item);\n    },\n    getColorOfIcon(item) {\n      if (item.type === \"task\") {\n        if (item.taskNumber < 6) {\n          return getCategoryColor(\"Easy\");\n        } else if (item.taskNumber < 11) {\n          return getCategoryColor(\"Moderate\");\n        } else {\n          return getCategoryColor(\"Hard\");\n        }\n      }\n      return \"\";\n    },\n    isAssignmentDone(assignment) {\n      for (const child of assignment.children) {\n        if (child.status !== \"TURNED IN\") {\n          return false;\n        }\n      }\n      return true;\n    },\n    getTaskChipColor(task) {\n      if (task.status === \"TURNED IN\") {\n        return \"gray lighten-3\";\n      } else if (task.status === \"CURRENT TASK\") {\n        return \"green lighten-3\";\n      } else if (task.status === \"NOT TURNED IN\") {\n        return \"purple lighten-3\"\n      }\n      return \"\";\n    },\n    getAssignmentPoints(assignment) {\n      let result = 0;\n      assignment.children.forEach(task => result += task.points);\n      return result;\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StudentInfo.vue?vue&type=template&id=046bfccf&scoped=true&\"\nimport script from \"./StudentInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./StudentInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"046bfccf\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VCard,VCardTitle,VChip,VCol,VIcon,VProgressLinear,VRow,VTreeview})\n"],"sourceRoot":""}